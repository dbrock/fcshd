#!/usr/bin/env ruby

require "fcshd"

logger = FCSHD::Logger.new(STDERR)
compiler = FCSHD::Compiler.new(logger)
compiler.start! 

Thread.abort_on_exception = true

begin
  FCSHD::Server.new(34345, compiler, logger).run!
rescue Interrupt
  logger.log "Exiting."
end
